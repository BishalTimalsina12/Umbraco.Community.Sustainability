{"version":3,"file":"overview-workspace.element-Qpnh3gaK.js","sources":["../../../assets/node_modules/@tgwf/co2/dist/esm/helpers/index.js","../../../assets/node_modules/@tgwf/co2/dist/esm/hosting-json.js","../../../assets/node_modules/@tgwf/co2/dist/esm/hosting-api.js","../../../assets/node_modules/@tgwf/co2/dist/esm/hosting.js","../../../assets/src/section/overview/workspace/overview-workspace.element.ts"],"sourcesContent":["import { averageIntensity } from \"../index.js\";\nimport {\n  GLOBAL_GRID_INTENSITY,\n  PERCENTAGE_OF_DATA_LOADED_ON_SUBSEQUENT_LOAD,\n  FIRST_TIME_VIEWING_PERCENTAGE,\n  RETURNING_VISITOR_PERCENTAGE\n} from \"../constants/index.js\";\nconst formatNumber = (num) => parseFloat(num.toFixed(2));\nfunction parseOptions(options) {\n  var _a, _b, _c, _d, _e, _f;\n  if (typeof options !== \"object\") {\n    throw new Error(\"Options must be an object\");\n  }\n  const adjustments = {};\n  if (options == null ? void 0 : options.gridIntensity) {\n    adjustments.gridIntensity = {};\n    const { device, dataCenter, network } = options.gridIntensity;\n    if (device || device === 0) {\n      if (typeof device === \"object\") {\n        if (!averageIntensity.data[(_a = device.country) == null ? void 0 : _a.toUpperCase()]) {\n          console.warn(`\"${device.country}\" is not a valid country. Please use a valid 3 digit ISO 3166 country code. \nSee https://developers.thegreenwebfoundation.org/co2js/data/ for more information. \nFalling back to global average grid intensity.`);\n          adjustments.gridIntensity[\"device\"] = {\n            value: GLOBAL_GRID_INTENSITY\n          };\n        }\n        adjustments.gridIntensity[\"device\"] = {\n          country: device.country,\n          value: parseFloat(averageIntensity.data[(_b = device.country) == null ? void 0 : _b.toUpperCase()])\n        };\n      } else if (typeof device === \"number\") {\n        adjustments.gridIntensity[\"device\"] = {\n          value: device\n        };\n      } else {\n        adjustments.gridIntensity[\"device\"] = {\n          value: GLOBAL_GRID_INTENSITY\n        };\n        console.warn(`The device grid intensity must be a number or an object. You passed in a ${typeof device}. \nFalling back to global average grid intensity.`);\n      }\n    }\n    if (dataCenter || dataCenter === 0) {\n      if (typeof dataCenter === \"object\") {\n        if (!averageIntensity.data[(_c = dataCenter.country) == null ? void 0 : _c.toUpperCase()]) {\n          console.warn(`\"${dataCenter.country}\" is not a valid country. Please use a valid 3 digit ISO 3166 country code. \nSee https://developers.thegreenwebfoundation.org/co2js/data/ for more information.  \nFalling back to global average grid intensity.`);\n          adjustments.gridIntensity[\"dataCenter\"] = {\n            value: GLOBAL_GRID_INTENSITY\n          };\n        }\n        adjustments.gridIntensity[\"dataCenter\"] = {\n          country: dataCenter.country,\n          value: parseFloat(averageIntensity.data[(_d = dataCenter.country) == null ? void 0 : _d.toUpperCase()])\n        };\n      } else if (typeof dataCenter === \"number\") {\n        adjustments.gridIntensity[\"dataCenter\"] = {\n          value: dataCenter\n        };\n      } else {\n        adjustments.gridIntensity[\"dataCenter\"] = {\n          value: GLOBAL_GRID_INTENSITY\n        };\n        console.warn(`The data center grid intensity must be a number or an object. You passed in a ${typeof dataCenter}. \nFalling back to global average grid intensity.`);\n      }\n    }\n    if (network || network === 0) {\n      if (typeof network === \"object\") {\n        if (!averageIntensity.data[(_e = network.country) == null ? void 0 : _e.toUpperCase()]) {\n          console.warn(`\"${network.country}\" is not a valid country. Please use a valid 3 digit ISO 3166 country code. \nSee https://developers.thegreenwebfoundation.org/co2js/data/ for more information.  Falling back to global average grid intensity. \nFalling back to global average grid intensity.`);\n          adjustments.gridIntensity[\"network\"] = {\n            value: GLOBAL_GRID_INTENSITY\n          };\n        }\n        adjustments.gridIntensity[\"network\"] = {\n          country: network.country,\n          value: parseFloat(averageIntensity.data[(_f = network.country) == null ? void 0 : _f.toUpperCase()])\n        };\n      } else if (typeof network === \"number\") {\n        adjustments.gridIntensity[\"network\"] = {\n          value: network\n        };\n      } else {\n        adjustments.gridIntensity[\"network\"] = {\n          value: GLOBAL_GRID_INTENSITY\n        };\n        console.warn(`The network grid intensity must be a number or an object. You passed in a ${typeof network}. \nFalling back to global average grid intensity.`);\n      }\n    }\n  }\n  if ((options == null ? void 0 : options.dataReloadRatio) || options.dataReloadRatio === 0) {\n    if (typeof options.dataReloadRatio === \"number\") {\n      if (options.dataReloadRatio >= 0 && options.dataReloadRatio <= 1) {\n        adjustments.dataReloadRatio = options.dataReloadRatio;\n      } else {\n        adjustments.dataReloadRatio = PERCENTAGE_OF_DATA_LOADED_ON_SUBSEQUENT_LOAD;\n        console.warn(`The dataReloadRatio option must be a number between 0 and 1. You passed in ${options.dataReloadRatio}. \nFalling back to default value.`);\n      }\n    } else {\n      adjustments.dataReloadRatio = PERCENTAGE_OF_DATA_LOADED_ON_SUBSEQUENT_LOAD;\n      console.warn(`The dataReloadRatio option must be a number. You passed in a ${typeof options.dataReloadRatio}. \nFalling back to default value.`);\n    }\n  }\n  if ((options == null ? void 0 : options.firstVisitPercentage) || options.firstVisitPercentage === 0) {\n    if (typeof options.firstVisitPercentage === \"number\") {\n      if (options.firstVisitPercentage >= 0 && options.firstVisitPercentage <= 1) {\n        adjustments.firstVisitPercentage = options.firstVisitPercentage;\n      } else {\n        adjustments.firstVisitPercentage = FIRST_TIME_VIEWING_PERCENTAGE;\n        console.warn(`The firstVisitPercentage option must be a number between 0 and 1. You passed in ${options.firstVisitPercentage}. \nFalling back to default value.`);\n      }\n    } else {\n      adjustments.firstVisitPercentage = FIRST_TIME_VIEWING_PERCENTAGE;\n      console.warn(`The firstVisitPercentage option must be a number. You passed in a ${typeof options.firstVisitPercentage}. \nFalling back to default value.`);\n    }\n  }\n  if ((options == null ? void 0 : options.returnVisitPercentage) || options.returnVisitPercentage === 0) {\n    if (typeof options.returnVisitPercentage === \"number\") {\n      if (options.returnVisitPercentage >= 0 && options.returnVisitPercentage <= 1) {\n        adjustments.returnVisitPercentage = options.returnVisitPercentage;\n      } else {\n        adjustments.returnVisitPercentage = RETURNING_VISITOR_PERCENTAGE;\n        console.warn(`The returnVisitPercentage option must be a number between 0 and 1. You passed in ${options.returnVisitPercentage}. \nFalling back to default value.`);\n      }\n    } else {\n      adjustments.returnVisitPercentage = RETURNING_VISITOR_PERCENTAGE;\n      console.warn(`The returnVisitPercentage option must be a number. You passed in a ${typeof options.returnVisitPercentage}. \nFalling back to default value.`);\n    }\n  }\n  return adjustments;\n}\nfunction getApiRequestHeaders(comment = \"\") {\n  return { \"User-Agent\": `co2js/${\"0.15.0\"} ${comment}` };\n}\nexport {\n  formatNumber,\n  getApiRequestHeaders,\n  parseOptions\n};\n","\"use strict\";\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar require_hosting_json = __commonJS({\n  \"src/hosting-json.js\"(exports, module) {\n    async function check(domain, db) {\n      if (typeof domain === \"string\") {\n        return checkInJSON(domain, db);\n      } else {\n        return checkDomainsInJSON(domain, db);\n      }\n    }\n    function checkInJSON(domain, db) {\n      if (db.indexOf(domain) > -1) {\n        return true;\n      }\n      return false;\n    }\n    function greenDomainsFromResults(greenResults) {\n      const entries = Object.entries(greenResults);\n      const greenEntries = entries.filter(([key, val]) => val.green);\n      return greenEntries.map(([key, val]) => val.url);\n    }\n    function checkDomainsInJSON(domains, db) {\n      let greenDomains = [];\n      for (let domain of domains) {\n        if (db.indexOf(domain) > -1) {\n          greenDomains.push(domain);\n        }\n      }\n      return greenDomains;\n    }\n    function find(domain, db) {\n      if (typeof domain === \"string\") {\n        return findInJSON(domain, db);\n      } else {\n        return findDomainsInJSON(domain, db);\n      }\n    }\n    function findInJSON(domain, db) {\n      if (db.indexOf(domain) > -1) {\n        return domain;\n      }\n      return {\n        url: domain,\n        green: false\n      };\n    }\n    function findDomainsInJSON(domains, db) {\n      const result = {};\n      for (let domain of domains) {\n        result[domain] = findInJSON(domain, db);\n      }\n      return result;\n    }\n    module.exports = {\n      check,\n      greenDomainsFromResults,\n      find\n    };\n  }\n});\nexport default require_hosting_json();\n","\"use strict\";\nimport { getApiRequestHeaders } from \"./helpers/index.js\";\nimport hostingJSON from \"./hosting-json.js\";\nfunction check(domain, optionsOrAgentId) {\n  const options = typeof optionsOrAgentId === \"string\" ? { userAgentIdentifier: optionsOrAgentId } : optionsOrAgentId;\n  if ((options == null ? void 0 : options.db) && options.verbose) {\n    throw new Error(\"verbose mode cannot be used with a local lookup database\");\n  }\n  if (typeof domain === \"string\") {\n    return checkAgainstAPI(domain, options);\n  } else {\n    return checkDomainsAgainstAPI(domain, options);\n  }\n}\nasync function checkAgainstAPI(domain, options = {}) {\n  const req = await fetch(`https://api.thegreenwebfoundation.org/greencheck/${domain}`, {\n    headers: getApiRequestHeaders(options.userAgentIdentifier)\n  });\n  if (options == null ? void 0 : options.db) {\n    return hostingJSON.check(domain, options.db);\n  }\n  const res = await req.json();\n  return options.verbose ? res : res.green;\n}\nasync function checkDomainsAgainstAPI(domains, options = {}) {\n  try {\n    const apiPath = \"https://api.thegreenwebfoundation.org/v2/greencheckmulti\";\n    const domainsString = JSON.stringify(domains);\n    const req = await fetch(`${apiPath}/${domainsString}`, {\n      headers: getApiRequestHeaders(options.userAgentIdentifier)\n    });\n    const allGreenCheckResults = await req.json();\n    return options.verbose ? allGreenCheckResults : greenDomainsFromResults(allGreenCheckResults);\n  } catch (e) {\n    return options.verbose ? {} : [];\n  }\n}\nfunction greenDomainsFromResults(greenResults) {\n  const entries = Object.entries(greenResults);\n  const greenEntries = entries.filter(([key, val]) => val.green);\n  return greenEntries.map(([key, val]) => val.url);\n}\nvar hosting_api_default = {\n  check\n};\nexport {\n  hosting_api_default as default\n};\n","\"use strict\";\nimport hostingAPI from \"./hosting-api.js\";\nfunction check(domain, optionsOrAgentId) {\n  return hostingAPI.check(domain, optionsOrAgentId);\n}\nvar hosting_default = {\n  check\n};\nexport {\n  hosting_default as default\n};\n","import { SUSTAINABILITY_CONTEXT, SustainabilityContext } from \"../../../context/sustainability.context\";\r\nimport { UmbLitElement } from \"@umbraco-cms/backoffice/lit-element\";\r\nimport { DirectionModel } from \"@umbraco-cms/backoffice/external/backend-api\";\r\nimport { css, customElement, html, repeat, state } from \"@umbraco-cms/backoffice/external/lit\";\r\nimport { AveragePageMetrics, PageMetric, PagedResultPageMetricModel } from \"../../../api\";\r\nimport { hosting } from '@tgwf/co2';\r\n\r\nconst elementName = \"overview-workspace\";\r\n\r\n@customElement(elementName)\r\nexport class OverviewRootWorkspaceElement extends UmbLitElement {\r\n\r\n  #sustainabilityContext?: SustainabilityContext;\r\n\r\n  #localizeDateOptions: Intl.DateTimeFormatOptions = {\r\n    year: 'numeric',\r\n    month: '2-digit',\r\n    day: '2-digit',\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n    hour12: true\r\n  };\r\n\r\n  @state()\r\n  _overviewData?: PagedResultPageMetricModel;\r\n\r\n  @state()\r\n  _averageData?: AveragePageMetrics;\r\n\r\n  @state()\r\n  _greenHost: boolean = false;\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.consumeContext(SUSTAINABILITY_CONTEXT, (instance) => {\r\n      this.#sustainabilityContext = instance;\r\n\r\n      this.observe(this.#sustainabilityContext.overviewData, (data) => {\r\n        if (!data) return;\r\n        this._overviewData = data;\r\n      });\r\n\r\n      this.observe(this.#sustainabilityContext.averageData, (data) => {\r\n        if (!data) return;\r\n        this._averageData = data;\r\n      })\r\n    });\r\n  }\r\n\r\n  async connectedCallback() {\r\n    super.connectedCallback();\r\n\r\n    if (this.#sustainabilityContext != null) {\r\n      await this.#sustainabilityContext.getOverviewData(DirectionModel.DESCENDING, \"RequestDate\", 1, 10);\r\n      await this.#sustainabilityContext.getAverageData();\r\n    }\r\n\r\n    if (hosting.check(window.location.hostname, 'Test')) {\r\n      this._greenHost = true;\r\n    }\r\n  }\r\n\r\n  #renderNoResults() {\r\n    if (this._overviewData?.items?.length === 0) {\r\n      return html`\r\n        <uui-box>\r\n          No data to show yet. Once you've run some tests, you'll see an overview of all your data here.\r\n        </uui-box>\r\n      `\r\n    }\r\n  }\r\n\r\n\r\n  #renderResults() {\r\n    if (this._overviewData?.items?.length !== 0) {\r\n      return html`\r\n      <div id=\"left-column\">\r\n        <uui-box>\r\n          <uui-table style=\"margin-bottom: 24px;\">\r\n            <uui-table-head>\r\n              <uui-table-head-cell></uui-table-head-cell>\r\n              <uui-table-head-cell>Last Run Date</uui-table-head-cell>\r\n              <uui-table-head-cell>Carbon Rating</uui-table-head-cell>\r\n            </uui-table-head>\r\n\r\n            ${repeat(\r\n        this._overviewData?.items!,\r\n        (item: PageMetric) => item,\r\n        (item: PageMetric) => html`\r\n                <uui-table-row>\r\n                  <uui-table-cell>\r\n                    <a href='/umbraco/section/content/workspace/document/edit/${item.nodeKey}'>\r\n                      ${item.nodeName}\r\n                    </a>\r\n                  </uui-table-cell>\r\n                  <uui-table-cell>\r\n                    <umb-localize-date date=${item.requestDate} .options=${this.#localizeDateOptions}>\r\n                    </umb-localize-date>\r\n                  </uui-table-cell>\r\n                  <uui-table-cell>\r\n                    <sustainability-carbon-rating\r\n                      .carbonRating=${item.carbonRating}>\r\n                    </sustainability-carbon-rating>\r\n                  </uui-table-cell>\r\n                </uui-table-row>\r\n                `\r\n      )}\r\n          </uui-table>\r\n\r\n          <uui-button label=\"See more data\" look=\"primary\" href=\"/umbraco/section/sustainability/workspace/stats-root\">\r\n            See more data\r\n          </uui-button>\r\n        </uui-box>\r\n        </div>\r\n      `\r\n    }\r\n  }\r\n\r\n  _calculateGrade(score: number): string {\r\n    // grade using swd digital carbon ratings\r\n    // https://sustainablewebdesign.org/digital-carbon-ratings/\r\n    if (score < 0.095) {\r\n      return 'A+';\r\n    } else if (score < 0.186) {\r\n      return 'A';\r\n    } else if (score < 0.341) {\r\n      return 'B';\r\n    } else if (score < 0.493) {\r\n      return 'C';\r\n    } else if (score < 0.656) {\r\n      return 'D';\r\n    } else if (score < 0.846) {\r\n      return 'E';\r\n    } else {\r\n      return 'F';\r\n    }\r\n  }\r\n\r\n  #renderGreenHostingValue() {\r\n    if (this._greenHost === undefined) {\r\n      return html`\r\n        <p style=\"margin: 0;\">Loading...</p>\r\n      `\r\n    }\r\n    else if (this._greenHost === false) {\r\n      return html`\r\n        <p style=\"margin: 0;\">No</p>\r\n      `\r\n    }\r\n    else return html`\r\n      <p style=\"margin: 0;\">Yes</p>\r\n    `\r\n  }\r\n\r\n  #renderGreenHosting() {\r\n    return html`\r\n    <uui-box headline=\"Green hosting\" style=\"margin-bottom: var(--uui-size-space-4);\">\r\n      <div slot=\"header\">Powered by <a href=\"https://www.thegreenwebfoundation.org/co2-js/\" target=\"_blank\">CO2.js</a></div>\r\n      ${this.#renderGreenHostingValue()}\r\n    </uui-box>\r\n    `\r\n  }\r\n\r\n  #renderSidebar() {\r\n    if (this._overviewData?.items?.length !== 0) {\r\n      return html`\r\n        <div id=\"right-column\">\r\n          ${this.#renderGreenHosting()}\r\n\r\n          <uui-box headline=\"Average carbon rating\" style=\"margin-bottom: var(--uui-size-space-4);\">\r\n            <sustainability-carbon-rating .carbonRating=${this._calculateGrade(this._averageData?.emissions!)}>\r\n            </sustainability-carbon-rating>\r\n          </uui-box>\r\n\r\n          <uui-box headline=\"Average page size\" style=\"margin-bottom: var(--uui-size-space-4);\">\r\n            ${(this._averageData?.pageSize! / 1024).toFixed(2)}KB\r\n          </uui-box>\r\n\r\n          <uui-box headline=\"Average CO₂ per page view\">\r\n            ${this._averageData?.emissions?.toFixed(4)}g\r\n          </uui-box>\r\n\r\n        </div>\r\n      `\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return html`\r\n      <umb-body-layout headline=\"Overview\">\r\n        <div id=\"main\">\r\n          ${this.#renderNoResults()}\r\n          ${this.#renderResults()}\r\n          ${this.#renderSidebar()}\r\n        </div>\r\n      </umb-body-layout>\r\n    `;\r\n  }\r\n\r\n  static styles = [\r\n    css`\r\n      #main {\r\n        display: grid;\r\n        gap: var(--uui-size-layout-1);\r\n        grid-template-columns: 1fr 350px;\r\n      }\r\n    `\r\n  ]\r\n}\r\n\r\nexport default OverviewRootWorkspaceElement;\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    [elementName]: OverviewRootWorkspaceElement;\r\n  }\r\n}\r\n"],"names":["getApiRequestHeaders","comment","__getOwnPropNames","__commonJS","cb","mod","require_hosting_json","exports","module","check","domain","db","checkInJSON","checkDomainsInJSON","greenDomainsFromResults","greenResults","key","val","domains","greenDomains","find","findInJSON","findDomainsInJSON","result","hostingJSON","optionsOrAgentId","options","checkAgainstAPI","checkDomainsAgainstAPI","req","res","apiPath","domainsString","allGreenCheckResults","hosting_api_default","hostingAPI","hosting_default","_sustainabilityContext","_localizeDateOptions","_renderNoResults","renderNoResults_fn","_renderResults","renderResults_fn","_renderGreenHostingValue","renderGreenHostingValue_fn","_renderGreenHosting","renderGreenHosting_fn","_renderSidebar","renderSidebar_fn","elementName","OverviewRootWorkspaceElement","UmbLitElement","__privateAdd","SUSTAINABILITY_CONTEXT","instance","__privateSet","__privateGet","data","DirectionModel","hosting","score","html","__privateMethod","_b","_a","repeat","_c","item","_d","_f","_e","css","__decorateClass","state","customElement","OverviewRootWorkspaceElement$1"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}